<?xml version="1.0" encoding="utf-8"?>
<model
        name="Application"
        table="#__applications"
        primary_key="id"
        name_key="name"
        primary_prefix="a"
        get_customfields="1"
        get_item_children="0"
        use_special_joins="1"
        check_view_level_access="0"
        process_plugins="0"
        catalog_type_id="50"
        use_pagination="0"
        extends="site"
        data_source="JDatabase">

    <table>
        <fields>
            <include field="id_pk"/>
            <include field="catalog_type_id"/>
            <include field="name"/>
            <include field="path"/>
            <include field="description"/>
            <include field="customfields"/>
            <include field="parameters"/>
            <include field="metadata"/>
        </fields>

        <foreignkeys>
            <foreignkey name="catalog_type_id" source_id="id" source_model="CatalogTypes" required="1"/>
        </foreignkeys>

        <joins>
            <join model="Catalog"
                  alias="catalog"
                  select="catalog_type_id,source_id,sef_request,view_group_id,redirect_to_id"
                  jointo="source_id,catalog_type_id"
                  joinwith="id,catalog_type_id"/>
        </joins>

        <children>
            <child name="SiteApplications" type="Table" join="application_id"/>
            <child name="ApplicationExtensionInstances" type="Table" join="application_id"/>
            <child name="UserApplications" type="Table" join="application_id"/>
            <child name="Sessions" type="Table" join="application_id"/>
            <child name="ApplicationExtensionInstances" type="Table" join="application_id"/>
        </children>

        <plugins>
            <plugin name="Application"/>
            <plugin name="Customfields"/>
            <plugin name="Metadata"/>
            <plugin name="Parameters"/>
        </plugins>
    </table>

    <customfields>

        <customfield name="parameters">
            <include field="application_name"/>
            <include field="application_google_analytics_code"/>
            <include field="application_logon_requirement"/>
            <include field="application_html5"/>
            <include field="application_help"/>
            <include field="application_path"/>
            <include field="application_base_url"/>
            <include field="application_home_catalog_id"/>

            <include field="language"/>
            <include field="language_direction"/>
            <include field="language_multilingual"/>
            <include field="language_utc_offset"/>

            <include field="system_cache_folder"/>
            <include field="system_logs_folder"/>
            <include field="system_temp_folder"/>
            <include field="system_temp_url"/>
            <include field="system_media_folder"/>
            <include field="system_media_url"/>

            <include name="ParametersMailer"/>

            <include field="url_sef"/>
            <include field="url_unicode_slugs"/>
            <include field="url_force_ssl"/>

            <include field="session_lifetime"/>
            <include field="session_handler"/>

            <include field="cookie_domain"/>
            <include field="cookie_path"/>

            <include name="ParametersUserDefaults"/>

            <include field="log_user_update_activity"/>
            <include field="log_user_view_activity"/>
            <include field="log_catalog_update_activity"/>
            <include field="log_catalog_view_activity"/>

            <include name="ParametersGravatar"/>

            <include name="ParametersImage"/>

            <include field="head_enable_use"/>
            <include field="head_template_view_id"/>
            <include field="head_wrap_view_id"/>

            <include field="defer_enable_use"/>
            <include field="defer_template_view_id"/>
            <include field="defer_wrap_view_id"/>

            <include name="ParametersAssets"/>

            <include field="message_template_view_id"/>
            <include field="message_wrap_view_id"/>

            <include field="offline_switch"/>
            <include field="offline_message"/>
            <include field="offline_theme_id"/>
            <include field="offline_page_view_id"/>

            <include field="error_theme_id"/>
            <include field="error_page_view_id"/>
            <include field="error_404_message"/>
            <include field="error_403_message"/>

            <include name="ParametersUserInterface"/>

            <include name="ParametersEnable"/>
            <include name="ParametersForm"/>
            <include name="ParametersItem"/>
            <include name="ParametersList"/>
            <include name="ParametersMenuitem"/>

            <include name="ParametersProfiler"/>
        </customfield>
    </customfields>
</model>
